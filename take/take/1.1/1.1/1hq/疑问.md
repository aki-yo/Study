


![](assets/Pasted%20image%2020250917093746.png)

![](assets/Pasted%20image%2020250917093814.png)




## 未解决

bs项目我是已经有了修改才能运行，提交避过吗


# 1

技术共享部

自助里面的 log 日志是不是有两个 slf4j 和对接到日志中台的 地方




# 1
```
/*日志中台*/  
// 请求入参  
LogSenderDto logSenderDto = new LogSenderDto(operLog);  
getRequestArg(joinPoint, logSenderDto);  
//操作动作  
logSenderDto.setActionType(controllerLog.businessType().getName());  
//操作菜单  
logSenderDto.setActionMenu(operLog.getTitle());  
//发布日志事件，保存日志  
Date after = new Date();  
logSenderDto.setActionTime(String.valueOf(after.getTime() - before.getTime()));  
applicationEventPublisher.publishEvent(new LogEvent(this, logSenderDto));
```

```
com/o/framework/aspectj/LogAspect.java
```

这日志发哪去了

这里好像就是根据自制log jar包来实现的





# 1

![](assets/Pasted%20image%2020250806163450.png)
ai说这段代码无效


# 1

![](assets/Pasted%20image%2020250729090820.png)
这里生效了吗
com/o/framework/aspectj/DataScopeAspect.java


private static final long serialVersionUID = -8970718410437077606L;
这个怎么生成的




那个sqlhelper插件怎么用的

ControllerAdvice
异常注解



# 1






![](assets/Pasted%20image%2020250707155649.png)
这个直接返回pageinfo
还有返回IPage<>的


## 已经解决







# 1
DruidConfig

这里里面没看到url 数据库怎么进行连接的

这个也在配置文件里面



# 1
![](assets/Pasted%20image%2020250806170027.png)
哪来的这个datasource 参数传入的

```
com/o/framework/config/ScheduleConfig.java
```


![](assets/Pasted%20image%2020250811161749.png)
知道了
spring从配置文件中自动注入的应该是





那每次请求过来都要重新加载配置，进行过滤？
不是，那个东西在init初始化函数里

# 1

AND EO.C_DEPT_TYPE = '1'
部门类型是什么意思
其实就是主职，兼职，看常数代码知道de

# 1
切换数据源的原理是什么
[动态数据源](ds/动态数据源.md)


## 1
```
TbOrgUnitMapper.xml
```
为什么要找制造properties=0的组织单元

![](assets/Pasted%20image%2020250709200539.png)


为什么会有一个nvl，明明肯定urp的标签一定为0
不是，因为是左连接，是urph中的标签一定为0


# 1
那个文件导出是不是没有传给用户
应该是的，导出功能也没有用

# 1
requestInfo.getParams().get("dataScope")
有点奇怪，这个从始至终也没有设置啊，怎么来的
哦，好像是从那个什么拦截器或者登录设置的，不对，切面？，好像是切面，有那个注解，然后得到这个玩意，当时就是这样发现的，调试确实是那样的

# 1
tb是什么意思
table


# 1
```
LEFT JOIN TB_STA_EMP_ORG EO  
    ON D.C_EMPLOYEE_ID = EO.C_EMPLOYEE_ID AND EO.C_BEGIN_DATE &lt;= TRUNC(SYSDATE) AND EO.C_END_DATE > TRUNC(SYSDATE) AND EO.C_DEPT_TYPE = '1'  
LEFT JOIN TB_STA_EMP_CLASS TC  
    ON EO.C_EMPLOYEE_ID = TC.C_EMPLOYEE_ID AND TC.C_BEGIN_DATE &lt;= TRUNC( CURRENT_DATE ) AND TC.C_END_DATE >= TRUNC( CURRENT_DATE ) --员工分类信息
```
为什么两个左连接中都要有这个当前在职的判断
第一个是包含时分秒
第二个是日期

第一个是员工组织表，二。员工的类别表，
有可能这个员工从一个类别到另外一个类别
这种时候转化的时候应该是会插入新的数据的，原来的不会删除，所以两个都要找当前的然后连表
tensai?


# 1


```java
//获取组织属性  
TbOrgUnit unit = tbOrgUnitService.selectTbOrgUnitByOrgAndUser(organizationId, user.getUserName());
```
这个组织属性什么
默认属性0 ，1是什么
1是非制造
其实就是那个人的所属的最高组织的一些信息应该


# 1
```
coretalentresignvpdirector
```
![](assets/Pasted%20image%2020250707133650.png)
这啥
知道，图表相关的玩意

# 1
我去，员工所属的部门id在组织单元表中找不到
天啊
那这个部门id是什么意思
就是最小组织id
之所以找不到是因为数据库没有展示完全，就500条


![](assets/Pasted%20image%2020250707085722.png)
这个地方第一行怎么实现的，
第二行应该是将上面的List分解成list list list 每个1000长度、

```
public List<SysConfiguration> selectSysConfigurationList(SysConfiguration sysConfiguration);
```
这个也没有实现
哦哦，好像在xml文件里面吧






![](assets/Pasted%20image%2020250704095100.png)

这个前端项目，npm install失败是不是我没有镜像库权限的问题，



继承，多态，实现接口、接口

继承就相当于n.
是名词
```
public class LogEvent extends ApplicationEvent {
```
比如这个就是事件的继承，继承过来有一些属性，表明是个事件
我想着为什么不用接口呢
因为接口定义的是工作是v.
是动词
```
public class LogListener implements ApplicationListener<LogEvent> {
```
比如这个就是是监听的作用，实现一下，就有了监听的作用，是监听器了

哦~
```
@Component
public class LogListener {
    private final LogQueue logQueue; // 日志队列(实际可能是Kafka/RabbitMQ等)

    @Async // 异步处理
    @EventListener // 事件监听注解
    public void handleLogEvent(LogEvent event) {
        LogSenderDto logDto = event.getLogDto();
        try {
            // 构造日志实体
            SysLog log = new SysLog();
            log.setModule(logDto.getModule());
            log.setOperation(logDto.getOperation());
            log.setCreateTime(new Date());
            
            // 异步写入日志存储
            logQueue.add(log);
        } catch (Exception e) {
            log.error("日志记录失败: {}", logDto, e);
        }
    }
}
```
原来还有这种定义事件监听器方法
注解方法

